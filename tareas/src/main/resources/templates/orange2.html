<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<div th:insert="fragments/header :: header-css"> </div>
	

</head>
<body>


<div class="wrapper">

<div>
	<h2>sss</h2>
						<nav class="navbar navbar-expand-lg navbar-dark ">
						  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main_nav" aria-expanded="false" aria-label="Toggle navigation">
						    <span class="navbar-toggler-icon"></span>
						  </button>
						  <div class="collapse navbar-collapse" id="main_nav">
						
							<ul class="navbar-nav ml-auto">
								<li class="nav-item dropdown">
									<a class="nav-link  dropdown-toggle" href="#" data-toggle="dropdown"> Opciones </a>
								    <ul class="dropdown-menu dropdown-menu">
									  <div class="p-1 "><li><a class="opciones" th:attr="data-target='#ventanaModalChange'+1" th:href="@{/changeStatus/{id} (id=1) }" data-toggle="modal" data-target="#ventanaModalChange" data-whatever="@mdo"><i class="fas fa-keyboard" aria-hidden="true"></i> Registro</a></li></div>
									  
							    	  <div class="p-1 "><li><a class="opciones" th:attr="data-target='#ventaModaledite'+1" th:href="@{/editarTarea/{id} (id=1) }" data-toggle="modal" data-target="#ventaModaledite" data-whatever="@mdo"><i class="far fa-edit" aria-hidden="true"></i> Editar</a></li></div>
							          <div class="p-1 "><li><a class="opciones" th:href="@{/resolverTarea/{id} (id=1) }" ><i class="far fa-check-circle" aria-hidden="true"></i> Resolver</a></li></div>
								    </ul>
								</li>
							</ul>
						  </div> <!-- navbar-collapse.// -->
						</nav>
						
						
						
														<!--  ventana modal edit -->
								<div class="modal fade" th:id="ventaModaledite+${tarea.id}"  tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" >
								  <div class="modal-dialog">
								    <div class="modal-content">
								      <div class="modal-header">
								        <h5 class="modal-title colorNegro" id="exampleModalLabel" >Modificar la tarea tarea</h5>
								        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
								          <span aria-hidden="true">&times;</span>
								        </button>
								      </div>
								      <div class="modal-body">
										<form  th:action="@{/editarTarea/{id} (id=${tarea.id}) }" method="get" th:object="${edit}">	
											<div class="form-group form-inline">
												<select class="styled-select space" placeholder="tarea" th:field="*{tarea}">
												<option th:value="${tarea.tarea}" th:text="${tarea.tarea}" selected> Seleccione una opción </option>
												  <option th:value="Tarea" th:text="Tarea"></option>
												  <option th:value="'en espera'" th:text="'en espera'"></option>
												  <option th:value="Integracion" th:text="Integracion"></option>
												  <option th:value="Soporte" th:text="Soporte"></option>
												  <option th:value="Testing" th:text="Testing"></option>
												  <option th:value="Desarrollo" th:text="Desarrollo"></option>
												</select>	
												<select class="styled-select space" placeholder="prioridad" th:field="*{prioridad}">
												  <option th:value="${tarea.prioridad}" th:text="${tarea.prioridad}" selected></option>
												  <option th:value="Alta" th:text="Alta"></option>
												  <option th:value="Media" th:text="Media"></option>
												  <option th:value="Baja" th:text="Baja"></option>
												</select>
												<input class="form-control space" list="clientes" name="cliente" type="text" th:placeholder="${tarea.cliente}" th:field="*{cliente}" th:text="${tarea.cliente}">
												<datalist id="clientes">
													<option th:value="${tarea.cliente}" th:text="${tarea.cliente}" selected></option>
													<option th:value="Lorca"></option>
													<option th:value="Bullas"></option>
													<option th:value="'Santa Cruz'"></option>
													<option th:value="Cieza"></option>
													<option th:value="'A Coruña'"></option>
													<option th:value="Durango"></option>
													<option th:value="Torrelavega"></option>
												</datalist>
							 					<div class="input-group date">
													<input type="text" class="form-control" id="fecha" th:placeholder="${tarea.fAlert}" th:field="*{fAlert}" th:text="${tarea.fAlert}">
												</div>	 
											</div>
											<input type="text" class="form-control space" name="descripcion" th:placeholder="${tarea.descripcion}" th:value="${tarea.descripcion}" th:text="${tarea.descripcion}" th:field="*{descripcion}">
											<br>
											<br>
											<h6> Elija el destino </h6>
								            <button type="submit" name="action" value="en espera" class="btn btn-primary mb-3">En espera</button>
							    	        <button type="submit" name="action" value="activo" class="btn btn-primary mb-3">Activos</button>
										</form>
								      </div>
								    </div>
								  </div>
								</div>
								<!-- fin ventana modal -->		
					
					
														  <!--  venta modal change status -->
								  
								<div class="modal fade" th:id="ventanaModalChange+1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
								  <div class="modal-dialog">
								    <div class="modal-content">
								      <div class="modal-header">
								        <h5 class="modal-title colorNegro" id="exampleModalLabel">Iniciar registro de la tarea</h5>
								        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
								          <span aria-hidden="true">&times;</span>
								        </button>
								      </div>
								      <div class="modal-body">
										<form  th:action="@{/changeStatus/{id} (id=1) }" method="get" th:object="${registro}">	

											<input type="text" class="form-control space" name="descripcion" placeholder="descripcion" th:value="${registro.descripcion}"  th:field="*{descripcion}">
											<br>
								            <button type="submit" name="action" value="en espera" class="btn btn-primary mb-3"> Acceptar</button>
										</form>
								      </div>
								    </div>
								  </div>
								</div>							  
								  
								  <!-- FIN  venta modal change status -->		
</div>


  <div class="container-full">
    <div class="row">
      <div class="">  <!--  original classs col-md-8 col-md-offset-2 -->
        <div class="description ">
          <h2>Listado Tareas</h2>
        </div>
          <div class="fresh-table full-color-orange ">

          	  <div th:insert="fragments/listado :: activos"> </div> 

          </div>
        

        <div class="fresh-table full-color-orange">


	          <table id="fresh-table_espera" class="table">
	            <thead>            
	              <th data-sortable="true">Ticket</th>
				  <th data-sortable="true">Tarea</th>

				  <th data-sortable="true">prioridad</th>
				  <th data-sortable="true">Cliente</th>
				  <th data-sortable="true">Fecha Alta</th>
				  <th data-sortable="true">Alert Fecha</th>
				  <th data-sortable="true">Descripcion</th>
				  <th >Change</th>
				  <th >Opciones</th>
				  <th >Borrar</th>
	            </thead>
	            <tbody>
	              <tr  th:each="tarea : ${tareasEnEpera}">
					<td th:text="${tarea.id}">1</td>
					<td th:text="${tarea.tarea}">Soporte</td>

					<td th:text="${tarea.prioridad}">Alta</td>
					<td th:text="${tarea.cliente}">Oficina </td>
					<td >27/07/20 15:00 </th>
					<td >27/07/20 15:00 </td>
					<td th:text="${tarea.descripcion}"></td>
					
					<td>
						 <a class="change" th:href="@{/changeStatus/{id} (id=${tarea.id}) }">
						 	<i class="fas fa-stopwatch fa-2x" aria-hidden="false"></i>
						 </a>
					 </td>

					<td>
						<nav class="navbar navbar-expand-lg navbar-dark ">
						  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main_nav" aria-expanded="false" aria-label="Toggle navigation">
						    <span class="navbar-toggler-icon"></span>
						  </button>
						  <div class="collapse navbar-collapse" id="main_nav">
						
							<ul class="navbar-nav ml-auto">
								<li class="nav-item dropdown">
									<a class="nav-link  dropdown-toggle" href="#" data-toggle="dropdown"> Opciones </a>
								    <ul class="dropdown-menu dropdown-menu">
									  <div class="p-1 "><li><a class="opciones" th:attr="data-target='#ventanaModalChange'+${tarea.id}" th:href="@{/changeStatus/{id} (id=${tarea.id}) }" data-toggle="modal" data-target="#ventanaModalChange" data-whatever="@mdo"><i class="fas fa-keyboard" aria-hidden="true"></i> Registro</a></li></div>
									  
							    	  <div class="p-1 "><li><a class="opciones" th:attr="data-target='#ventaModaledite'+${tarea.id}" th:href="@{/editarTarea/{id} (id=${tarea.id}) }" data-toggle="modal" data-target="#ventaModaledite" data-whatever="@mdo"><i class="far fa-edit" aria-hidden="true"></i> Editar</a></li></div>
							          <div class="p-1 "><li><a class="opciones" th:href="@{/resolverTarea/{id} (id=${tarea.id}) }" ><i class="far fa-check-circle" aria-hidden="true"></i> Resolver</a></li></div>
								    </ul>
								</li>
							</ul>
						  </div> <!-- navbar-collapse.// -->
						</nav>
					</td>	
					<td> 
						<a class="change" th:href="@{/deleteTarea/{id} (id=${tarea.id}) }">
							<i class="far fa-trash-alt delete fa-2x" aria-hidden="true"></i>
						</a>
					</td>				

								<!--  ventana modal edit -->
								<div class="modal fade" th:id="ventaModaledite+${tarea.id}"  tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" >
								  <div class="modal-dialog">
								    <div class="modal-content">
								      <div class="modal-header">
								        <h5 class="modal-title colorNegro" id="exampleModalLabel" >Modificar la tarea tarea</h5>
								        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
								          <span aria-hidden="true">&times;</span>
								        </button>
								      </div>
								      <div class="modal-body">
										<form  th:action="@{/editarTarea/{id} (id=${tarea.id}) }" method="get" th:object="${edit}">	
											<div class="form-group form-inline">
												<select class="styled-select space" placeholder="tarea" th:field="*{tarea}">
												<option th:value="${tarea.tarea}" th:text="${tarea.tarea}" selected> Seleccione una opción </option>
												  <option th:value="Tarea" th:text="Tarea"></option>
												  <option th:value="'en espera'" th:text="'en espera'"></option>
												  <option th:value="Integracion" th:text="Integracion"></option>
												  <option th:value="Soporte" th:text="Soporte"></option>
												  <option th:value="Testing" th:text="Testing"></option>
												  <option th:value="Desarrollo" th:text="Desarrollo"></option>
												</select>	
												<select class="styled-select space" placeholder="prioridad" th:field="*{prioridad}">
												  <option th:value="${tarea.prioridad}" th:text="${tarea.prioridad}" selected></option>
												  <option th:value="Alta" th:text="Alta"></option>
												  <option th:value="Media" th:text="Media"></option>
												  <option th:value="Baja" th:text="Baja"></option>
												</select>
												<input class="form-control space" list="clientes" name="cliente" type="text" th:placeholder="${tarea.cliente}" th:field="*{cliente}" th:text="${tarea.cliente}">
												<datalist id="clientes">
													<option th:value="${tarea.cliente}" th:text="${tarea.cliente}" selected></option>
													<option th:value="Lorca"></option>
													<option th:value="Bullas"></option>
													<option th:value="'Santa Cruz'"></option>
													<option th:value="Cieza"></option>
													<option th:value="'A Coruña'"></option>
													<option th:value="Durango"></option>
													<option th:value="Torrelavega"></option>
												</datalist>
							 					<div class="input-group date">
													<input type="text" class="form-control" id="fecha" th:placeholder="${tarea.fAlert}" th:field="*{fAlert}" th:text="${tarea.fAlert}">
												</div>	 
											</div>
											<input type="text" class="form-control space" name="descripcion" th:placeholder="${tarea.descripcion}" th:value="${tarea.descripcion}" th:text="${tarea.descripcion}" th:field="*{descripcion}">
											<br>
											<br>
											<h6> Elija el destino </h6>
								            <button type="submit" name="action" value="en espera" class="btn btn-primary mb-3">En espera</button>
							    	        <button type="submit" name="action" value="activo" class="btn btn-primary mb-3">Activos</button>
										</form>
								      </div>
								    </div>
								  </div>
								</div>
								<!-- fin ventana modal -->		
					
					
														  <!--  venta modal change status -->
								  
								<div class="modal fade" th:id="ventanaModalChange+${tarea.id}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
								  <div class="modal-dialog">
								    <div class="modal-content">
								      <div class="modal-header">
								        <h5 class="modal-title colorNegro" id="exampleModalLabel">Iniciar registro de la tarea</h5>
								        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
								          <span aria-hidden="true">&times;</span>
								        </button>
								      </div>
								      <div class="modal-body">
										<form  th:action="@{/changeStatus/{id} (id=${tarea.id}) }" method="get" th:object="${registro}">	

											<input type="text" class="form-control space" name="descripcion" placeholder="descripcion" th:value="${registro.descripcion}"  th:field="*{descripcion}">
											<br>
								            <button type="submit" name="action" value="en espera" class="btn btn-primary mb-3"> Acceptar</button>
										</form>
								      </div>
								    </div>
								  </div>
								</div>							  
								  
								  <!-- FIN  venta modal change status -->										
					
					
	              </tr>
              	</tbody>
              </table>

        </div>

        <div class="description description-footer">

          <p>Copyright &copy; 2022  by kike </p>
        </div>
      </div>
    </div>
  </div>
</div>






</body>

  <script type="text/javascript">
    var $table = $('#fresh-table')
    var $tableEspera = $('#fresh-table_espera')
    var $alertBtn = $('#alertBtn')



    $(function () {
      $table.bootstrapTable({
        classes: 'table table-hover table-striped',
        toolbar: '.toolbar',
		
        search: true,
        showRefresh: true,
        showToggle: true,
        showColumns: true,
        pagination: true,
        striped: true,
        sortable: true,
        pageSize: 8,
        pageList: [8, 10, 25, 50, 100],

        formatShowingRows: function (pageFrom, pageTo, totalRows) {
          return ''
        },
        formatRecordsPerPage: function (pageNumber) {
          return pageNumber + ' rows visible'
        }
      })
    })
    
    $(function () {
      $tableEspera.bootstrapTable({
        classes: 'table table-hover table-striped',
        toolbar: '.toolbar',
		
        search: true,
        showRefresh: true,
        showToggle: true,
        showColumns: true,
        pagination: true,
        striped: true,
        sortable: true,
        pageSize: 8,
        pageList: [8, 10, 25, 50, 100],

        formatShowingRows: function (pageFrom, pageTo, totalRows) {
          return ''
        },
        formatRecordsPerPage: function (pageNumber) {
          return pageNumber + ' rows visible'
        }
      })
    })





  </script>


</html>